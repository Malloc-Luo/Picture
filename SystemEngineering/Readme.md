### 系统工程课程设计 —— 遗传算法求解VRP问题

遗传算法车辆数经验公式：周生伟, 蒋同海, 张荣辉.改进遗传算法求解VRP问题[J].计算机仿真, 2013, 30(12): 140-144
$$
m = \left[\sum^N_{i = 1}\frac{g_i}{\alpha q}\right] + 1
$$


适值函数：李向阳.遗传算法求解VRP问题[J].计算机工程与设计, 2004, 2: 271-276.
$$
\min Z = \sum^N_{i = 0}\sum^N_{j = 0}\sum^m_{k = 1}c_{ij}x_{ijk} + M\sum^m_{k = 1}\max\left[\sum^N_{i = 0}g_{i}y_{ik} - w, 0\right]
$$
其中

$c_{ij}$ 为 $i$ 点到 $j$ 点的成本；$x_{ijk}$ 为车辆 $k$ 是否从 $i$ 到 $j$；$M$ 为惩罚系数；$g_i$ 为 $i$ 点需求量；$ y_{ik}$ 为 $i$ 点货物是否由 $k$ 车运输； $w$ 为每辆车容量

#### 精度的影响因素

* 动态规划阈值(+)
* 2-opt迭代次数(+)
* 遗传算法迭代次数(+)
* 种群规模(+)

#### 效率的影响因素

* 动态规划阈值(-)
* 种群规模(-)
* 迭代次数(-)

仿真实验：

计算机配置：`Intel Core i5-8300H CPU @ 2.30GHz`

小规模问题 `E-n22-k4.vrp`

| 种群大小 | 迭代次数 | 平均用时 | 平均误差 | 1    | 2    | 3    | 4    |
| -------- | -------- | -------- | -------- | ---- | ---- | ---- | ---- |
| 50       | 150      | 45.7 s   | 35.81%   | 531  | 499  | 486  | 519  |
| 50       | 600      | 221.9 s  | 11.82%   | 399  | 407  | 449  | 421  |
| 50       | 1200     | 459.1s   | 7.75%    | 386  | 415  | 415  | 399  |
| 100      | 150      | 95.9 s   | 24.52%   | 459  | 479  | 474  | 454  |
| 100      | 300      | 177.2s   | 18.09%   | 470  | 471  | 390  | 439  |
| 100      | 600      | 356.0 s  | 10.44%   | 400  | 433  | 407  | 415  |
| 100      | 1200     | 826.6s   | 9.48%    | 411  | 422  | 425  | 383  |
| 200      | 600      | 492.1s   | 3.87%    | 384  | 397  | 393  | 384  |
| 200      | 1200     | 1239.7s  | 3.54%    | 387  | 384  | 387  | 394  |
| 300      | 50       | 103.6s   | 21.43%   | 449  | 481  | 449  | 441  |
| 300      | 150      | 294.8s   | 6.74%    | 387  | 406  | 395  | 411  |
| 300      | 300      | 547.2s   | 5.98%    | 398  | 392  | 408  | 390  |

中等规模`A-n33-k5.vrp`

| 种群大小 | 迭代次数 | 平均用时 | 平均误差 | 1    | 2    | 3    | 4    |
| -------- | -------- | -------- | -------- | ---- | ---- | ---- | ---- |
| 50       | 150      | 91.9 s   | 41.92%   | 1025 | 952  | 925  | 849  |
| 50       | 300      | 245.7 s  | 38.97%   | 990  | 959  | 866  | 859  |
| 50       | 600      | 411.5 s  | 29.19%   | 872  | 840  | 879  | 824  |
| 100      | 300      | 468.3 s  | 31.78%   | 856  | 847  | 871  | 909  |
| 100      | 600      | 721.7 s  | 24.99%   | 855  | 801  | 821  | 826  |
| 150      | 300      | 660.6 s  | 28.92%   | 851  | 854  | 838  | 865  |
| 150      | 600      | 1380.3s  | 12.41%   | 772  | 723  | 736  | 741  |
| 100      | 900      | 1147.4s  | 14.51%   | 815  | 738  | 747  | 729  |
| 150      | 900      | 1776.7s  | 13.19%   | 758  | 743  | 741  | 750  |
| 100      | 1200     | 1498.2s  | 9.99%    | 703  | 739  | 744  | 721  |
|          |          |          |          |      |      |      |      |

中等规模 `A-n44-k6.vrp`

| 种群规模 | 迭代次数 | 平均用时 | 平均误差 | 1    | 2    | 3    | 4    |
| -------- | -------- | -------- | -------- | ---- | ---- | ---- | ---- |
| 120      | 600      | 1168.0s  | 62.61%   | 1540 | 1557 | 1442 | 1555 |
| 150      | 1200     | 2914.8s  | 59.45%   | 1509 | 1497 | 1496 | 1482 |
| 150      | 2500     | 6390.3s  | 49.55%   | 1346 | 1412 | 1408 | 1437 |





